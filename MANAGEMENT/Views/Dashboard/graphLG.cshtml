<style>
    .loader {
        position: fixed;
        left: 0px;
        top: 0px;
        width: 100%;
        height: 100%;
        z-index: 9999;
        background: Url("/Content/images/pageLoader.gif") 50% 50% no-repeat rgb(249,249,249);
        opacity: .8;
    }
</style>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<body>
    <div class="container">
        <br />
        <div class="row">
            <!-- /.col (LEFT) -->
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading" id="accordionOne">
                        <span class="glyphicon glyphicon-stats"></span> Bar Chart Implementation Of 5-S
                        <div class="btn-group pull-right">
                            <a type="button" class="btn btn-default btn-xs" data-toggle="tooltip" title="Main Menu.!" href="javascript:void(0)" onclick="location.href='@Url.Action("index", "Dashboard")'"><span class="glyphicon glyphicon-th-list"></span></a>
                            <a type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-parent="#accordionOne" href="#collapseOne">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>
                        </div>
                    </div>
                    <div class="panel-collapse" id="collapseOne">
                        <div class="panel-body">
                            <div id="barLGIMP">
                                <canvas id="chartIMP" style="height:230px"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <br />
        <div class="row">
            <!-- /.col (LEFT) -->
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading" id="accordionTwo">
                        <span class="glyphicon glyphicon-stats"></span> Bar Chart IS Capabilities
                        <div class="btn-group pull-right">
                            <a type="button" class="btn btn-default btn-xs" data-toggle="tooltip" title="Main Menu.!" href="javascript:void(0)" onclick="location.href='@Url.Action("index", "Dashboard")'"><span class="glyphicon glyphicon-th-list"></span></a>
                            <a type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-parent="#accordionTwo" href="#collapseTwo">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>
                        </div>
                    </div>
                    <div class="panel-collapse" id="collapseTwo">
                        <div class="panel-body">
                            <div id="barLGCap">
                                <canvas id="chartCap" style="height:230px"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <br />
        <div class="row">
            <!-- /.col (LEFT) -->
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading" id="accordionThree">
                        <span class="glyphicon glyphicon-stats"></span> Bar Chart People Development ( Training )
                        <div class="btn-group pull-right">
                            <a type="button" class="btn btn-default btn-xs" data-toggle="tooltip" title="Main Menu.!" href="javascript:void(0)" onclick="location.href='@Url.Action("index", "Dashboard")'"><span class="glyphicon glyphicon-th-list"></span></a>
                            <a type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-parent="#accordionThree" href="#collapseThree">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>
                        </div>
                    </div>
                    <div class="panel-collapse" id="collapseThree">
                        <div class="panel-body">
                            <div id="barLGTrain">
                                <canvas id="chartTraining" style="height:230px"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <br />
        <div class="row">
            <!-- /.col (LEFT) -->
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading" id="accordionFour">
                        <span class="glyphicon glyphicon-stats"></span> Bar Chart People Development ( Skill Capability Index )
                        <div class="btn-group pull-right">
                            <a type="button" class="btn btn-default btn-xs" data-toggle="tooltip" title="Main Menu.!" href="javascript:void(0)" onclick="location.href='@Url.Action("index", "Dashboard")'"><span class="glyphicon glyphicon-th-list"></span></a>
                            <a type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-parent="#accordionFour" href="#collapseFour">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>
                        </div>
                    </div>
                    <div class="panel-collapse" id="collapseFour">
                        <div class="panel-body">
                            <div id="barLGSkill">
                                <canvas id="chartSkill" style="height:230px"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <br />
        <div class="row">
            <!-- /.col (LEFT) -->
            <div class="col-md-12">
                <div class="panel panel-primary">
                    <div class="panel-heading" id="accordionFive">
                        <span class="glyphicon glyphicon-stats"></span> Bar Chart People Awareness & Motivation
                        <div class="btn-group pull-right">
                            <a type="button" class="btn btn-default btn-xs" data-toggle="tooltip" title="Main Menu.!" href="javascript:void(0)" onclick="location.href='@Url.Action("index", "Dashboard")'"><span class="glyphicon glyphicon-th-list"></span></a>
                            <a type="button" class="btn btn-default btn-xs" data-toggle="collapse" data-parent="#accordionFive" href="#collapseFive">
                                <span class="glyphicon glyphicon-chevron-down"></span>
                            </a>
                        </div>
                    </div>
                    <div class="panel-collapse" id="collapseFive">
                        <div class="panel-body">
                            <div id="barLGMOT">
                                <canvas id="chartMOT" style="height:230px"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</body>
<script>
    var urlKPI = "@Url.Content("~/Dashboard")";
    var dataA = [];
    var dataR = [];
    var dataH = [];
    var dataS = [];
    var dataTIS = [];
    var dataDIS = [];
    var dataT5S = [];
    var dataD5S = [];
    var dataTMOT = [];
    var dataDMOT = [];
    var iYear;
    $(document).ready(function () {
        iYear = $.session.get("UserYear");
        show5S(iYear);
        showISCap(iYear);
        showTraining(iYear);
        showSkill(iYear);
        showMOT(iYear);
    });

    function show5S(thn) {
        var chc = 12;
        $.getJSON(urlKPI + "/GraphTgt/", { year: thn, chc },
        function (json) {
            for (var i = 0; i < json.length; i++) {
                dataT5S = json.map(function (e) {
                    return e.amount;
                });
            }

            $.getJSON(urlKPI + "/GraphImpAct/", { year: thn },
            function (json) {
                for (var i = 0; i < json.length; i++) {
                    dataD5S = json.map(function (e) {
                        return e.amount;
                    });

                }

                var areaChartDataIMP = {
                    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    datasets: [
                      {
                          label: '5-S',
                          backgroundColor: "blue",
                          borderColor: "lightblue",
                          fill: false,
                          lineTension: 0,
                          data: dataD5S,
                      },

                      {
                          label: 'Target',
                          backgroundColor: "red",
                          borderColor: "red",
                          fill: false,
                          lineTension: 0,
                          data: dataT5S,
                      }
                    ]
                }

                var barChartCanvasIMP = $('#chartIMP').get(0).getContext('2d');
                var barChartIMP = new Chart(barChartCanvasIMP)
                var barChartDataIMP = areaChartDataIMP
                barChartDataIMP.datasets[0].fillColor = '#00a65a'
                barChartDataIMP.datasets[0].strokeColor = '#00a65a'
                barChartDataIMP.datasets[0].pointColor = '#00a65a'
                var barChartOptionsIMP = {
                    scaleLabel: "<%= formatNumber(value)  %>",
                    scaleBeginAtZero: true,
                    scaleShowGridLines: true,
                    scaleGridLineColor: 'rgba(0,0,0,.05)',
                    scaleGridLineWidth: 1,
                    scaleShowHorizontalLines: true,
                    scaleShowVerticalLines: true,
                    barShowStroke: true,
                    barStrokeWidth: 2,
                    barValueSpacing: 5,
                    barDatasetSpacing: 1,
                    legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',
                    responsive: true,
                    maintainAspectRatio: true
                }

                barChartOptionsIMP.datasetFill = true

                var barChartIMP = new Chart(barChartCanvasIMP, {
                    type: 'bar',
                    data: barChartDataIMP,
                    options: barChartOptionsIMP
                });

            });
        });
    }

    function showISCap(thn) {
        var chc = 13;
        $.getJSON(urlKPI + "/GraphTgt/", { year: thn, chc },
        function (json) {
            for (var i = 0; i < json.length; i++) {
                dataTIS = json.map(function (e) {
                    return e.amount;
                });
            }

            $.getJSON(urlKPI + "/GraphIsCapAct/", { year: thn },
            function (json) {
                for (var i = 0; i < json.length; i++) {
                    dataDIS = json.map(function (e) {
                        return e.amount;
                    });

                }

                var areaChartDataIsCap = {
                    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    datasets: [
                      {
                          label: 'IS Capabilities',
                          backgroundColor: "blue",
                          borderColor: "lightblue",
                          fill: false,
                          lineTension: 0,
                          data: dataDIS,
                      },

                      {
                          label: 'Target',
                          backgroundColor: "red",
                          borderColor: "red",
                          fill: false,
                          lineTension: 0,
                          data: dataTIS,
                      }
                    ]
                }

                var barChartCanvasIsCap = $('#chartCap').get(0).getContext('2d');
                var barChartIsCap = new Chart(barChartCanvasIsCap)
                var barChartDataIsCap = areaChartDataIsCap
                barChartDataIsCap.datasets[0].fillColor = '#00a65a'
                barChartDataIsCap.datasets[0].strokeColor = '#00a65a'
                barChartDataIsCap.datasets[0].pointColor = '#00a65a'
                var barChartOptionsIsCap = {
                    scaleLabel: "<%= formatNumber(value)  %>",
                    scaleBeginAtZero: true,
                    scaleShowGridLines: true,
                    scaleGridLineColor: 'rgba(0,0,0,.05)',
                    scaleGridLineWidth: 1,
                    scaleShowHorizontalLines: true,
                    scaleShowVerticalLines: true,
                    barShowStroke: true,
                    barStrokeWidth: 2,
                    barValueSpacing: 5,
                    barDatasetSpacing: 1,
                    legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',
                    responsive: true,
                    maintainAspectRatio: true
                }

                barChartOptionsIsCap.datasetFill = true

                var barChartIsCap = new Chart(barChartCanvasIsCap, {
                    type: 'bar',
                    data: barChartDataIsCap,
                    options: barChartOptionsIsCap
                });

            });
        });
    }

    function showTraining(thn) {
        var chc = 14;
        $.getJSON(urlKPI + "/GraphTgt/", { year: thn, chc },
        function (json) {
            for (var i = 0; i < json.length; i++) {
                dataA = json.map(function (e) {
                    return e.amount;
                });
            }

            $.getJSON(urlKPI + "/GraphTrainingAct/", { year: thn },
            function (json) {
                for (var i = 0; i < json.length; i++) {
                    dataR = json.map(function (e) {
                        return e.amount;
                    });

                }

                var areaChartDataTRAIN = {
                    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    datasets: [
                      {
                          label: 'Training',
                          backgroundColor: "blue",
                          borderColor: "lightblue",
                          fill: false,
                          lineTension: 0,
                          data: dataR,
                      },

                      {
                          label: 'Target',
                          backgroundColor: "red",
                          borderColor: "red",
                          fill: false,
                          lineTension: 0,
                          data: dataA,
                      }
                    ]
                }

                var barChartCanvasTRAIN = $('#chartTraining').get(0).getContext('2d');
                var barChartTRAIN = new Chart(barChartCanvasTRAIN)
                var barChartDataTRAIN = areaChartDataTRAIN
                barChartDataTRAIN.datasets[0].fillColor = '#00a65a'
                barChartDataTRAIN.datasets[0].strokeColor = '#00a65a'
                barChartDataTRAIN.datasets[0].pointColor = '#00a65a'
                var barChartOptionsTRAIN = {
                    scaleLabel: "<%= formatNumber(value)  %>",
                    scaleBeginAtZero: true,
                    scaleShowGridLines: true,
                    scaleGridLineColor: 'rgba(0,0,0,.05)',
                    scaleGridLineWidth: 1,
                    scaleShowHorizontalLines: true,
                    scaleShowVerticalLines: true,
                    barShowStroke: true,
                    barStrokeWidth: 2,
                    barValueSpacing: 5,
                    barDatasetSpacing: 1,
                    legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',
                    responsive: true,
                    maintainAspectRatio: true
                }

                barChartOptionsTRAIN.datasetFill = true

                var barChartTRAIN = new Chart(barChartCanvasTRAIN, {
                    type: 'bar',
                    data: barChartDataTRAIN,
                    options: barChartOptionsTRAIN
                });

            });
        });
    }

    function showSkill(thn) {
        var chc = 15;
        $.getJSON(urlKPI + "/GraphTgt/", { year: thn, chc },
        function (json) {
            for (var i = 0; i < json.length; i++) {
                dataH = json.map(function (e) {
                    return e.amount;
                });
            }

            $.getJSON(urlKPI + "/GraphSkillAct/", { year: thn },
            function (json) {
                for (var i = 0; i < json.length; i++) {
                    dataS = json.map(function (e) {
                        return e.amount;
                    });

                }

                var areaChartDataSkill = {
                    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    datasets: [
                      {
                          label: 'Skill',
                          backgroundColor: "blue",
                          borderColor: "lightblue",
                          fill: false,
                          lineTension: 0,
                          data: dataS,
                      },

                      {
                          label: 'Target',
                          backgroundColor: "red",
                          borderColor: "red",
                          fill: false,
                          lineTension: 0,
                          data: dataH,
                      }
                    ]
                }

                var barChartCanvasSkill = $('#chartSkill').get(0).getContext('2d');
                var barChartSkill = new Chart(barChartCanvasSkill)
                var barChartDataSkill = areaChartDataSkill
                barChartDataSkill.datasets[0].fillColor = '#00a65a'
                barChartDataSkill.datasets[0].strokeColor = '#00a65a'
                barChartDataSkill.datasets[0].pointColor = '#00a65a'
                var barChartOptionsSkill = {
                    scaleLabel: "<%= formatNumber(value)  %>",
                    scaleBeginAtZero: true,
                    scaleShowGridLines: true,
                    scaleGridLineColor: 'rgba(0,0,0,.05)',
                    scaleGridLineWidth: 1,
                    scaleShowHorizontalLines: true,
                    scaleShowVerticalLines: true,
                    barShowStroke: true,
                    barStrokeWidth: 2,
                    barValueSpacing: 5,
                    barDatasetSpacing: 1,
                    legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',
                    responsive: true,
                    maintainAspectRatio: true
                }

                barChartOptionsSkill.datasetFill = true

                var barChartSkill = new Chart(barChartCanvasSkill, {
                    type: 'bar',
                    data: barChartDataSkill,
                    options: barChartOptionsSkill
                });

            });
        });
    }
    
    function showMOT(thn) {
        var chc = 16;
        $.getJSON(urlKPI + "/GraphTgt/", { year: thn, chc },
        function (json) {
            for (var i = 0; i < json.length; i++) {
                dataTMOT = json.map(function (e) {
                    return e.amount;
                });
            }

            $.getJSON(urlKPI + "/GraphMotAct/", { year: thn },
            function (json) {
                for (var i = 0; i < json.length; i++) {
                    dataDMOT = json.map(function (e) {
                        return e.amount;
                    });

                }

                var areaChartDataMOT = {
                    labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    datasets: [
                      {
                          label: 'Awareness',
                          backgroundColor: "blue",
                          borderColor: "lightblue",
                          fill: false,
                          lineTension: 0,
                          data: dataDMOT,
                      },

                      {
                          label: 'Target',
                          backgroundColor: "red",
                          borderColor: "red",
                          fill: false,
                          lineTension: 0,
                          data: dataTMOT,
                      }
                    ]
                }

                var barChartCanvasMOT = $('#chartMOT').get(0).getContext('2d');
                var barChartMOT = new Chart(barChartCanvasMOT)
                var barChartDataMOT = areaChartDataMOT
                barChartDataMOT.datasets[0].fillColor = '#00a65a'
                barChartDataMOT.datasets[0].strokeColor = '#00a65a'
                barChartDataMOT.datasets[0].pointColor = '#00a65a'
                var barChartOptionsMOT = {
                    scaleLabel: "<%= formatNumber(value)  %>",
                    scaleBeginAtZero: true,
                    scaleShowGridLines: true,
                    scaleGridLineColor: 'rgba(0,0,0,.05)',
                    scaleGridLineWidth: 1,
                    scaleShowHorizontalLines: true,
                    scaleShowVerticalLines: true,
                    barShowStroke: true,
                    barStrokeWidth: 2,
                    barValueSpacing: 5,
                    barDatasetSpacing: 1,
                    legendTemplate: '<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',
                    responsive: true,
                    maintainAspectRatio: true
                }

                barChartOptionsMOT.datasetFill = true

                var barChartMOT = new Chart(barChartCanvasMOT, {
                    type: 'bar',
                    data: barChartDataMOT,
                    options: barChartOptionsMOT
                });

            });
        });
    }


</script>